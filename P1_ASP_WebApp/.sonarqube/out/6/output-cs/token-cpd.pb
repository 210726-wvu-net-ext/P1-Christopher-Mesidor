­
^C:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\HomeController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public 
HomeController 
( 
IRepo #
webrepo$ +
,+ ,
ILogger- 4
<4 5
HomeController5 C
>C D
loggerE K
)K L
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
_logger 
. 
LogCritical 
(  
$str  7
)7 8
;8 9
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
var 
reviews 
= 
_webrepo "
." #

GetReviews# -
(- .
). /
;/ 0
ViewData 
[ 
$str 
] 
= 
$str %
;% &
return 
View 
( 
model 
: 
reviews &
)& '
;' (
} 	
public!! 
IActionResult!! 

GetReviews!! '
(!!' (
)!!( )
{"" 	
return## 
View## 
(## 
)## 
;## 
}$$ 	
public&& 
IActionResult&& 
Privacy&& $
(&&$ %
)&&% &
{'' 	
return(( 
View(( 
((( 
)(( 
;(( 
})) 	
[++ 	
ResponseCache++	 
(++ 
Duration++ 
=++  !
$num++" #
,++# $
Location++% -
=++. /!
ResponseCacheLocation++0 E
.++E F
None++F J
,++J K
NoStore++L S
=++T U
true++V Z
)++Z [
]++[ \
public,, 
IActionResult,, 
Error,, "
(,," #
),,# $
{-- 	
return.. 
View.. 
(.. 
new.. 
ErrorViewModel.. *
{..+ ,
	RequestId..- 6
=..7 8
Activity..9 A
...A B
Current..B I
?..I J
...J K
Id..K M
??..N P
HttpContext..Q \
...\ ]
TraceIdentifier..] l
}..m n
)..n o
;..o p
}// 	
}00 
}11 ï 
_C:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\LoginController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class 
LoginController  
:! "

Controller# -
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public 
LoginController 
( 
IRepo $
webrepo% ,
,, -
ILogger. 5
<5 6
LoginController6 E
>E F
loggerG M
)M N
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Details $
($ %
int% (
id) +
)+ ,
{   	
return!! 
View!! 
(!! 
_webrepo!!  
.!!  !
GetUsers!!! )
(!!) *
)!!* +
.!!+ ,
First!!, 1
(!!1 2
x!!2 3
=>!!4 6
x!!7 8
.!!8 9
ID!!9 ;
==!!< >
id!!? A
)!!A B
)!!B C
;!!C D
}"" 	
[%% 	
HttpGet%%	 
]%% 
public&& 
ActionResult&& 
Login&& !
(&&! "
)&&" #
{'' 	
return(( 
View(( 
((( 
)(( 
;(( 
})) 	
[,, 	
HttpPost,,	 
],, 
[-- 	$
ValidateAntiForgeryToken--	 !
]--! "
public.. 
ActionResult.. 
Login.. !
(..! "
Users.." '
users..( -
)..- .
{// 	
if00 
(00 
_webrepo00 
.00 
SearchUsers00 #
(00# $
users00$ )
.00) *
uname00* /
,00/ 0
users001 6
.006 7
pass007 ;
)00; <
.00< =
Equals00= C
(00C D
$str00D U
)00U V
)00V W
{11 
return22 
View22 
(22 
$str22 #
)22# $
;22$ %
}33 
else44 
{55 
ViewBag66 
.66 
Username66  
=66! "
users66# (
.66( )
uname66) .
;66. /
TempData77 
[77 
$str77 
]77  
=77! "
users77# (
.77( )
uname77) .
;77. /
TempData88 
.88 
Keep88 
(88 
$str88 $
)88$ %
;88% &
_logger99 
.99 
LogCritical99 #
(99# $
$str99$ 6
)996 7
;997 8
return:: 
Redirect:: 
(::  
$str::  4
)::4 5
;::5 6
};; 
}<< 	
[?? 	
HttpGet??	 
]?? 
public@@ 
ActionResult@@ 
Create@@ "
(@@" #
)@@# $
{AA 	
returnBB 
ViewBB 
(BB 
)BB 
;BB 
}CC 	
[FF 	
HttpPostFF	 
]FF 
publicGG 
ActionResultGG 
CreateGG "
(GG" #
UsersGG# (
usersGG) .
)GG. /
{HH 	
_webrepoII 
.II 
AddUserII 
(II 
usersII "
)II" #
;II# $
_loggerJJ 
.JJ 
LogCriticalJJ 
(JJ  
$strJJ  4
)JJ4 5
;JJ5 6
returnKK 
ViewKK 
(KK 
$strKK !
,KK! "
usersKK# (
)KK( )
;KK) *
}LL 	
}MM 
}NN ¥
dC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\RestaurantController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class  
RestaurantController %
:& '

Controller( 2
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public  
RestaurantController #
(# $
IRepo$ )
webrepo* 1
,1 2
ILogger3 :
<: ; 
RestaurantController; O
>O P
loggerQ W
)W X
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
_webrepo  
.  !
GetRestaurants! /
(/ 0
)0 1
)1 2
;2 3
} 	
public 
IActionResult 
Details $
($ %
int% (
id) +
)+ ,
{   	
_logger!! 
.!! 
LogCritical!! 
(!!  
$str!!  8
)!!8 9
;!!9 :
return"" 
View"" 
("" 
_webrepo""  
.""  !
GetRestaurants""! /
(""/ 0
)""0 1
.""1 2
First""2 7
(""7 8
x""8 9
=>"": <
x""= >
.""> ?
ID""? A
==""B D
id""E G
)""G H
)""H I
;""I J
}## 	
[%% 	
HttpGet%%	 
]%% 
public&& 
ActionResult&& 
SearchRestaurant&& ,
(&&, -
)&&- .
{'' 	
return(( 
View(( 
((( 
)(( 
;(( 
})) 	
[++ 	
HttpPost++	 
]++ 
[,, 	$
ValidateAntiForgeryToken,,	 !
],,! "
public-- 
IActionResult-- 
SearchRestaurant-- -
(--- .
Restaurants--. 9
restaurants--: E
)--E F
{.. 	
if00 
(00 
_webrepo00 
.00 
SearchRestaurants00 )
(00) *
restaurants00* 5
.005 6
Name006 :
)00: ;
.00; <
Equals00< B
(00B C
$str00C ^
)00^ _
)00_ `
{11 
return22 
View22 
(22 
$str22 #
)22# $
;22$ %
}33 
else44 
{55 
ViewBag66 
.66 
Username66  
=66! "
restaurants66# .
.66. /
Name66/ 3
;663 4
TempData77 
[77 
$str77 %
]77% &
=77' (
restaurants77) 4
.774 5
Name775 9
;779 :
TempData88 
.88 
Keep88 
(88 
$str88 *
)88* +
;88+ ,
_logger99 
.99 
LogCritical99 #
(99# $
$str99$ 6
)996 7
;997 8
return:: 
View:: 
(:: 
$str:: %
,::% &
restaurants::' 2
)::2 3
;::3 4
};; 
}<< 	
}== 
}>> º
`C:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\ReviewController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class 
ReviewsController "
:# $

Controller% /
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public 
ReviewsController  
(  !
IRepo! &
webrepo' .
,. /
ILogger0 7
<7 8
ReviewsController8 I
>I J
loggerK Q
)Q R
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
_webrepo  
.  !

GetReviews! +
(+ ,
), -
)- .
;. /
} 	
public 
IActionResult 
Details $
($ %
int% (
id) +
)+ ,
{ 	
return 
View 
( 
_webrepo  
.  !

GetReviews! +
(+ ,
), -
.- .
First. 3
(3 4
x4 5
=>6 8
x9 :
.: ;
ID; =
==> @
idA C
)C D
)D E
;E F
}   	
["" 	
HttpGet""	 
]"" 
public## 
IActionResult## 
Create## #
(### $
)##$ %
{$$ 	
return&& 
View&& 
(&& 
)&& 
;&& 
}'' 	
[(( 	
HttpPost((	 
](( 
public)) 
IActionResult)) 
Create)) #
())# $
Reviews))$ +
reviews)), 3
)))3 4
{** 	
_webrepo++ 
.++ 

AddReviews++ 
(++  
reviews++  '
)++' (
;++( )
_logger,, 
.,, 
LogCritical,, 
(,,  
$str,,  2
),,2 3
;,,3 4
return-- 
View-- 
(-- 
$str-- !
,--! "
reviews--# *
)--* +
;--+ ,
}.. 	
}// 
}00  
XC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Models\CreatedReview.cs
	namespace 	
P1_ASP_WebApp
 
. 
Models 
{ 
public 

class 
CreatedReview 
{		 
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
List 
< 
string 
> 
Tags  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¨
YC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Models\ErrorViewModel.cs
	namespace 	
P1_ASP_WebApp
 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
bool		 
ShowRequestId		 !
=>		" $
!		% &
string		& ,
.		, -
IsNullOrEmpty		- :
(		: ;
	RequestId		; D
)		D E
;		E F
}

 
} ¦

KC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Program.cs
	namespace

 	
P1_ASP_WebApp


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ê
KC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Startup.cs
	namespace 	
P1_ASP_WebApp
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
	AddScoped 
< 
IRepo $
,$ %
Repo& *
>* +
(+ ,
), -
;- .
services 
. 
AddDbContext !
<! "
CMDBP0Context" /
>/ 0
(0 1
options1 8
=>9 ;
{ 
options   
.   
UseSqlServer   #
(  # $
Configuration  $ 1
.  1 2
GetConnectionString  2 E
(  E F
$str  F N
)  N O
)  O P
;  P Q
}!! 
)!! 
;!! 
services## 
.## 

AddSession## 
(##  
option##  &
=>##' )
{$$ 
option%% 
.%% 
IdleTimeout%% "
=%%# $
TimeSpan%%% -
.%%- .
FromMinutes%%. 9
(%%9 :
$num%%: ;
)%%; <
;%%< =
}&& 
)&& 
;&& 
services'' 
.'' #
AddControllersWithViews'' ,
('', -
)''- .
;''. /
}(( 	
public++ 
void++ 
	Configure++ 
(++ 
IApplicationBuilder++ 1
app++2 5
,++5 6
IWebHostEnvironment++7 J
env++K N
)++N O
{,, 	
if-- 
(-- 
env-- 
.-- 
IsDevelopment-- !
(--! "
)--" #
)--# $
{.. 
app// 
.// %
UseDeveloperExceptionPage// -
(//- .
)//. /
;/// 0
}00 
else11 
{22 
app33 
.33 
UseExceptionHandler33 '
(33' (
$str33( 5
)335 6
;336 7
app55 
.55 
UseHsts55 
(55 
)55 
;55 
}66 
app77 
.77 
UseHttpsRedirection77 #
(77# $
)77$ %
;77% &
app88 
.88 
UseStaticFiles88 
(88 
)88  
;88  !
app:: 
.:: 

UseRouting:: 
(:: 
):: 
;:: 
app<< 
.<< 
UseAuthorization<<  
(<<  !
)<<! "
;<<" #
app>> 
.>> 
UseEndpoints>> 
(>> 
	endpoints>> &
=>>>' )
{?? 
	endpoints@@ 
.@@ 
MapControllerRoute@@ ,
(@@, -
nameAA 
:AA 
$strAA #
,AA# $
patternBB 
:BB 
$strBB E
)BBE F
;BBF G
}CC 
)CC 
;CC 
}DD 	
}EE 
}FF 