ÙG
OC:\Users\cm121\source\repos\RestaurantReviewerC\RR_DL\Entities\CMDBP0Context.cs
	namespace 	
RR_DL
 
. 
Entities 
{ 
public		 

partial		 
class		 
CMDBP0Context		 &
:		' (
	DbContext		) 2
{

 
public 
CMDBP0Context 
( 
) 
{ 	
} 	
public 
CMDBP0Context 
( 
DbContextOptions -
<- .
CMDBP0Context. ;
>; <
options= D
)D E
: 
base 
( 
options 
) 
{ 	
} 	
public 
virtual 
DbSet 
< 

Restaurant '
>' (
Restaurants) 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
virtual 
DbSet 
< 
Review #
># $
Reviews% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
DbSet 
< 
User !
>! "
Users# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
HasAnnotation &
(& '
$str' =
,= >
$str? ]
)] ^
;^ _
modelBuilder 
. 
Entity 
<  

Restaurant  *
>* +
(+ ,
entity, 2
=>3 5
{ 
entity 
. 
ToTable 
( 
$str +
)+ ,
;, -
entity   
.   
HasIndex   
(    
e    !
=>  " $
e  % &
.  & '
Name  ' +
,  + ,
$str  - M
)  M N
.!! 
IsUnique!! 
(!! 
)!! 
;!!  
entity## 
.## 
Property## 
(##  
e##  !
=>##" $
e##% &
.##& '
Id##' )
)##) *
.##* +
HasColumnName##+ 8
(##8 9
$str##9 =
)##= >
;##> ?
entity%% 
.%% 
Property%% 
(%%  
e%%  !
=>%%" $
e%%% &
.%%& '
Location%%' /
)%%/ 0
.&& 

IsRequired&& 
(&&  
)&&  !
.'' 
HasMaxLength'' !
(''! "
$num''" %
)''% &
.(( 
	IsUnicode(( 
((( 
false(( $
)(($ %
;((% &
entity** 
.** 
Property** 
(**  
e**  !
=>**" $
e**% &
.**& '
Name**' +
)**+ ,
.++ 

IsRequired++ 
(++  
)++  !
.,, 
HasMaxLength,, !
(,,! "
$num,," %
),,% &
.-- 
	IsUnicode-- 
(-- 
false-- $
)--$ %
;--% &
entity// 
.// 
Property// 
(//  
e//  !
=>//" $
e//% &
.//& '
Rating//' -
)//- .
.//. /
HasColumnType/// <
(//< =
$str//= M
)//M N
;//N O
}00 
)00 
;00 
modelBuilder22 
.22 
Entity22 
<22  
Review22  &
>22& '
(22' (
entity22( .
=>22/ 1
{33 
entity44 
.44 
Property44 
(44  
e44  !
=>44" $
e44% &
.44& '
Id44' )
)44) *
.44* +
HasColumnName44+ 8
(448 9
$str449 =
)44= >
;44> ?
entity66 
.66 
Property66 
(66  
e66  !
=>66" $
e66% &
.66& '
Comments66' /
)66/ 0
.77 
HasMaxLength77 !
(77! "
$num77" %
)77% &
.88 
	IsUnicode88 
(88 
false88 $
)88$ %
;88% &
entity:: 
.:: 
Property:: 
(::  
e::  !
=>::" $
e::% &
.::& '

Restaurant::' 1
)::1 2
.;; 

IsRequired;; 
(;;  
);;  !
.<< 
HasMaxLength<< !
(<<! "
$num<<" %
)<<% &
.== 
	IsUnicode== 
(== 
false== $
)==$ %
;==% &
entity?? 
.?? 
Property?? 
(??  
e??  !
=>??" $
e??% &
.??& '
Users??' ,
)??, -
.@@ 

IsRequired@@ 
(@@  
)@@  !
.AA 
HasMaxLengthAA !
(AA! "
$numAA" %
)AA% &
.BB 
	IsUnicodeBB 
(BB 
falseBB $
)BB$ %
;BB% &
entityDD 
.DD 
HasOneDD 
(DD 
dDD 
=>DD  "
dDD# $
.DD$ % 
RestaurantNavigationDD% 9
)DD9 :
.EE 
WithManyEE 
(EE 
pEE 
=>EE  "
pEE# $
.EE$ %
ReviewsEE% ,
)EE, -
.FF 
HasPrincipalKeyFF $
(FF$ %
pFF% &
=>FF' )
pFF* +
.FF+ ,
NameFF, 0
)FF0 1
.GG 
HasForeignKeyGG "
(GG" #
dGG# $
=>GG% '
dGG( )
.GG) *

RestaurantGG* 4
)GG4 5
.HH 
OnDeleteHH 
(HH 
DeleteBehaviorHH ,
.HH, -
ClientSetNullHH- :
)HH: ;
.II 
HasConstraintNameII &
(II& '
$strII' G
)IIG H
;IIH I
entityKK 
.KK 
HasOneKK 
(KK 
dKK 
=>KK  "
dKK# $
.KK$ %
UsersNavigationKK% 4
)KK4 5
.LL 
WithManyLL 
(LL 
pLL 
=>LL  "
pLL# $
.LL$ %
ReviewsLL% ,
)LL, -
.MM 
HasPrincipalKeyMM $
(MM$ %
pMM% &
=>MM' )
pMM* +
.MM+ ,
UsernameMM, 4
)MM4 5
.NN 
HasForeignKeyNN "
(NN" #
dNN# $
=>NN% '
dNN( )
.NN) *
UsersNN* /
)NN/ 0
.OO 
OnDeleteOO 
(OO 
DeleteBehaviorOO ,
.OO, -
ClientSetNullOO- :
)OO: ;
.PP 
HasConstraintNamePP &
(PP& '
$strPP' E
)PPE F
;PPF G
}QQ 
)QQ 
;QQ 
modelBuilderSS 
.SS 
EntitySS 
<SS  
UserSS  $
>SS$ %
(SS% &
entitySS& ,
=>SS- /
{TT 
entityUU 
.UU 
HasIndexUU 
(UU  
eUU  !
=>UU" $
eUU% &
.UU& '
UsernameUU' /
,UU/ 0
$strUU1 N
)UUN O
.VV 
IsUniqueVV 
(VV 
)VV 
;VV  
entityXX 
.XX 
PropertyXX 
(XX  
eXX  !
=>XX" $
eXX% &
.XX& '
IdXX' )
)XX) *
.XX* +
HasColumnNameXX+ 8
(XX8 9
$strXX9 =
)XX= >
;XX> ?
entityZZ 
.ZZ 
PropertyZZ 
(ZZ  
eZZ  !
=>ZZ" $
eZZ% &
.ZZ& '
PasswordZZ' /
)ZZ/ 0
.[[ 

IsRequired[[ 
([[  
)[[  !
.\\ 
HasMaxLength\\ !
(\\! "
$num\\" %
)\\% &
.]] 
	IsUnicode]] 
(]] 
false]] $
)]]$ %
;]]% &
entity__ 
.__ 
Property__ 
(__  
e__  !
=>__" $
e__% &
.__& '
Username__' /
)__/ 0
.`` 

IsRequired`` 
(``  
)``  !
.aa 
HasMaxLengthaa !
(aa! "
$numaa" %
)aa% &
.bb 
	IsUnicodebb 
(bb 
falsebb $
)bb$ %
;bb% &
}cc 
)cc 
;cc "
OnModelCreatingPartialee "
(ee" #
modelBuilderee# /
)ee/ 0
;ee0 1
}ff 	
partialhh 
voidhh "
OnModelCreatingPartialhh +
(hh+ ,
ModelBuilderhh, 8
modelBuilderhh9 E
)hhE F
;hhF G
}ii 
}jj ®
LC:\Users\cm121\source\repos\RestaurantReviewerC\RR_DL\Entities\Restaurant.cs
	namespace 	
RR_DL
 
. 
Entities 
{ 
public 

partial 
class 

Restaurant #
{		 
public

 

Restaurant

 
(

 
)

 
{ 	
Reviews 
= 
new 
HashSet !
<! "
Review" (
>( )
() *
)* +
;+ ,
} 	
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
decimal 
? 
Rating 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Location 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
ZipCode 
{ 
get  
;  !
set" %
;% &
}' (
public 
virtual 
ICollection "
<" #
Review# )
>) *
Reviews+ 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
} 
} ¢
HC:\Users\cm121\source\repos\RestaurantReviewerC\RR_DL\Entities\Review.cs
	namespace 	
RR_DL
 
. 
Entities 
{ 
public 

partial 
class 
Review 
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
Users 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

Restaurant  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
? 
Rating 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Comments 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
virtual 

Restaurant ! 
RestaurantNavigation" 6
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
virtual 
User 
UsersNavigation +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} 
} Ô

FC:\Users\cm121\source\repos\RestaurantReviewerC\RR_DL\Entities\User.cs
	namespace 	
RR_DL
 
. 
Entities 
{ 
public 

partial 
class 
User 
{		 
public

 
User

 
(

 
)

 
{ 	
Reviews 
= 
new 
HashSet !
<! "
Review" (
>( )
() *
)* +
;+ ,
} 	
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
bool 
Admin 
{ 
get 
;  
set! $
;$ %
}& '
public 
virtual 
ICollection "
<" #
Review# )
>) *
Reviews+ 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
} 
} Ñ7
=C:\Users\cm121\source\repos\RestaurantReviewerC\RR_DL\Repo.cs
	namespace		 	
RR_DL		
 
{

 
public 

class 
Repo 
: 
IRepo 
{ 
private 
readonly 
CMDBP0Context &
_context' /
;/ 0
public 
Repo 
( 
CMDBP0Context !
context" )
)) *
{ 	
_context 
= 
context 
; 
} 	
public 
Reviews 

AddReviews !
(! "
Reviews" )
reviews* 1
)1 2
{ 	
_context 
. 
Reviews 
. 
Add  
(  !
new 
Entities 
. 
Review #
{ 
Id 
= 
reviews  
.  !
ID! #
,# $
Users 
= 
reviews #
.# $
UID$ '
,' (

Restaurant 
=  
reviews! (
.( )
RID) ,
,, -
Rating 
= 
reviews $
.$ %
Rating% +
,+ ,
Comments 
= 
reviews &
.& '
Comment' .
} 	
) 
; 
_context 
. 
SaveChanges  
(  !
)! "
;" #
return!! 
reviews!! 
;!! 
}"" 	
public$$ 
Users$$ 
AddUser$$ 
($$ 
Users$$ "
users$$# (
)$$( )
{%% 	
_context&& 
.&& 
Users&& 
.&& 
Add&& 
(&& 
new'' 
Entities'' 
.'' 
User'' !
{(( 
Username)) 
=)) 
users)) $
.))$ %
uname))% *
,))* +
Password** 
=** 
users** $
.**$ %
pass**% )
}++ 
),, 
;,, 
_context-- 
.-- 
SaveChanges--  
(--  !
)--! "
;--" #
return// 
users// 
;// 
}00 	
public22 
List22 
<22 
Restaurants22 
>22  
GetRestaurants22! /
(22/ 0
)220 1
{33 	
return44 
_context44 
.44 
Restaurants44 '
.44' (
Select44( .
(44. /
restaurants55 
=>55 
new55 "
RR_BL55# (
.55( )
Restaurants55) 4
(554 5
restaurants555 @
.55@ A
Id55A C
,55C D
restaurants55E P
.55P Q
Name55Q U
,55U V
restaurants55W b
.55b c
Rating55c i
,55i j
restaurants55k v
.55v w
Location55w 
,	55 Ä
restaurants
55Å å
.
55å ç
ZipCode
55ç î
)
55î ï
)66 
.66 
ToList66 
(66 
)66 
;66 
}77 	
public99 
List99 
<99 
RR_BL99 
.99 
Reviews99 !
>99! "

GetReviews99# -
(99- .
)99. /
{:: 	
return;; 
_context;; 
.;; 
Reviews;; #
.;;# $
Select;;$ *
(;;* +
reviews<< 
=><< 
new<< 
RR_BL<< $
.<<$ %
Reviews<<% ,
(<<, -
reviews<<- 4
.<<4 5
Id<<5 7
,<<7 8
reviews<<9 @
.<<@ A
Users<<A F
,<<F G
reviews<<H O
.<<O P

Restaurant<<P Z
,<<Z [
reviews<<\ c
.<<c d
Rating<<d j
,<<j k
reviews<<l s
.<<s t
Comments<<t |
)<<| }
)== 
.== 
ToList== 
(== 
)== 
;== 
}>> 	
public@@ 
List@@ 
<@@ 
Users@@ 
>@@ 
GetUsers@@ #
(@@# $
)@@$ %
{AA 	
returnBB 
_contextBB 
.BB 
UsersBB !
.BB! "
SelectBB" (
(BB( )
usersCC 
=>CC 
newCC 
RR_BLCC "
.CC" #
UsersCC# (
(CC( )
usersCC) .
.CC. /
IdCC/ 1
,CC1 2
usersCC3 8
.CC8 9
UsernameCC9 A
,CCA B
usersCCC H
.CCH I
PasswordCCI Q
,CCQ R
usersCCS X
.CCX Y
AdminCCY ^
)CC^ _
)DD 
.DD 
ToListDD 
(DD 
)DD 
;DD 
}EE 	
publicGG 
stringGG 
SearchUsersGG !
(GG! "
stringGG" (
usernameGG) 1
,GG1 2
stringGG3 9
passwordGG: B
)GGB C
{HH 	
tryII 
{JJ 
varKK 
usersKK 
=KK 
_contextKK $
.KK$ %
UsersKK% *
.KK* +
SingleKK+ 1
(KK1 2
uKK2 3
=>KK4 6
uKK7 8
.KK8 9
UsernameKK9 A
.KKA B
EqualsKKB H
(KKH I
usernameKKI Q
)KKQ R
)KKR S
;KKS T
ifLL 
(LL 
usersLL 
.LL 
PasswordLL !
==LL" $
passwordLL% -
)LL- .
{MM 
returnNN 
usernameNN #
;NN# $
}OO 
elsePP 
{QQ 
returnRR 
$strRR ,
;RR, -
}SS 
}TT 
catchUU 
(UU 
SystemUU 
.UU %
InvalidOperationExceptionUU 2
eUU3 4
)UU4 5
{VV 
returnWW 
$strWW (
;WW( )
}XX 
}[[ 	
public\\ 
string\\ 
SearchRestaurants\\ '
(\\' (
string\\( .
name\\/ 3
)\\3 4
{]] 	
try^^ 
{__ 
var`` 
restaurants`` 
=``  !
_context``" *
.``* +
Restaurants``+ 6
.``6 7
Single``7 =
(``= >
r``> ?
=>``@ B
r``C D
.``D E
Name``E I
.``I J
Equals``J P
(``P Q
name``Q U
)``U V
)``V W
;``W X
returnaa 
nameaa 
;aa 
}bb 
catchcc 
(cc 
Systemcc 
.cc %
InvalidOperationExceptioncc 3
ecc4 5
)cc5 6
{dd 
returnee 
$stree 2
;ee2 3
}ff 
}ii 	
}jj 
}kk 