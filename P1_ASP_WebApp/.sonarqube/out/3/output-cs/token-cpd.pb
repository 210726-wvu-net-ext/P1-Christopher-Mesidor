­
^C:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\HomeController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public 
HomeController 
( 
IRepo #
webrepo$ +
,+ ,
ILogger- 4
<4 5
HomeController5 C
>C D
loggerE K
)K L
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
_logger 
. 
LogCritical 
(  
$str  7
)7 8
;8 9
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
var 
reviews 
= 
_webrepo "
." #

GetReviews# -
(- .
). /
;/ 0
ViewData 
[ 
$str 
] 
= 
$str %
;% &
return 
View 
( 
model 
: 
reviews &
)& '
;' (
} 	
public!! 
IActionResult!! 

GetReviews!! '
(!!' (
)!!( )
{"" 	
return## 
View## 
(## 
)## 
;## 
}$$ 	
public&& 
IActionResult&& 
Privacy&& $
(&&$ %
)&&% &
{'' 	
return(( 
View(( 
((( 
)(( 
;(( 
})) 	
[++ 	
ResponseCache++	 
(++ 
Duration++ 
=++  !
$num++" #
,++# $
Location++% -
=++. /!
ResponseCacheLocation++0 E
.++E F
None++F J
,++J K
NoStore++L S
=++T U
true++V Z
)++Z [
]++[ \
public,, 
IActionResult,, 
Error,, "
(,," #
),,# $
{-- 	
return.. 
View.. 
(.. 
new.. 
ErrorViewModel.. *
{..+ ,
	RequestId..- 6
=..7 8
Activity..9 A
...A B
Current..B I
?..I J
...J K
Id..K M
??..N P
HttpContext..Q \
...\ ]
TraceIdentifier..] l
}..m n
)..n o
;..o p
}// 	
}00 
}11 ó
_C:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\LoginController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class 
LoginController  
:! "

Controller# -
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public 
LoginController 
( 
IRepo $
webrepo% ,
,, -
ILogger. 5
<5 6
LoginController6 E
>E F
loggerG M
)M N
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
_logger 
. 
LogCritical 
(  
$str  8
)8 9
;9 :
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public   
IActionResult   
Details   $
(  $ %
int  % (
id  ) +
)  + ,
{!! 	
return"" 
View"" 
("" 
_webrepo""  
.""  !
GetUsers""! )
("") *
)""* +
.""+ ,
First"", 1
(""1 2
x""2 3
=>""4 6
x""7 8
.""8 9
ID""9 ;
==""< >
id""? A
)""A B
)""B C
;""C D
}## 	
[&& 	
HttpGet&&	 
]&& 
public'' 
ActionResult'' 
Login'' !
(''! "
)''" #
{(( 	
return)) 
View)) 
()) 
))) 
;)) 
}** 	
[-- 	
HttpPost--	 
]-- 
[.. 	$
ValidateAntiForgeryToken..	 !
]..! "
public// 
ActionResult// 
Login// !
(//! "
Users//" '
users//( -
)//- .
{00 	
_webrepo11 
.11 
SearchUsers11  
(11  !
users11! &
.11& '
uname11' ,
,11, -
users11- 2
.112 3
pass113 7
)117 8
;118 9
return22 
View22 
(22 
users22 
)22 
;22 
}33 	
[66 	
HttpGet66	 
]66 
public77 
ActionResult77 
Create77 "
(77" #
)77# $
{88 	
return99 
View99 
(99 
)99 
;99 
}:: 	
[== 	
HttpPost==	 
]== 
[>> 	$
ValidateAntiForgeryToken>>	 !
]>>! "
public?? 
ActionResult?? 
Create?? "
(??" #
Users??# (
users??) .
)??. /
{@@ 	
_webrepoAA 
.AA 
AddUserAA 
(AA 
usersAA "
)AA" #
;AA# $
returnBB 
ViewBB 
(BB 
$strBB !
,BB! "
usersBB# (
)BB( )
;BB) *
}CC 	
}DD 
}EE …
dC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\RestaurantController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class  
RestaurantController %
:& '

Controller( 2
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public  
RestaurantController #
(# $
IRepo$ )
webrepo* 1
,1 2
ILogger3 :
<: ; 
RestaurantController; O
>O P
loggerQ W
)W X
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
_logger 
. 
LogCritical 
(  
$str  >
)> ?
;? @
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
_webrepo  
.  !
GetRestaurants! /
(/ 0
)0 1
)1 2
;2 3
} 	
public   
IActionResult   
Details   $
(  $ %
int  % (
id  ) +
)  + ,
{!! 	
return"" 
View"" 
("" 
_webrepo""  
.""  !
GetRestaurants""! /
(""/ 0
)""0 1
.""1 2
First""2 7
(""7 8
x""8 9
=>"": <
x""= >
.""> ?
ID""? A
==""B D
id""E G
)""G H
)""H I
;""I J
}## 	
public%% 
IActionResult%% 
Search%% #
(%%# $
Restaurants%%$ /
restaurants%%0 ;
)%%; <
{&& 	
return(( 
View(( 
((( 
_webrepo((  
.((  !
SearchRestaurants((! 2
(((2 3
restaurants((3 >
.((> ?
Name((? C
)((C D
)((D E
;((E F
})) 	
}** 
}++ º
`C:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Controllers\ReviewController.cs
	namespace 	
P1_ASP_WebApp
 
. 
Controllers #
{ 
public 

class 
ReviewsController "
:# $

Controller% /
{ 
private 
IRepo 
_webrepo 
; 
private 
readonly 
ILogger  
_logger! (
;( )
public 
ReviewsController  
(  !
IRepo! &
webrepo' .
,. /
ILogger0 7
<7 8
ReviewsController8 I
>I J
loggerK Q
)Q R
{ 	
_logger 
= 
logger 
; 
_webrepo 
= 
webrepo 
; 
_logger 
. 
LogCritical 
(  
$str  :
): ;
;; <
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
_webrepo  
.  !

GetReviews! +
(+ ,
), -
)- .
;. /
} 	
public 
IActionResult 
Details $
($ %
int% (
id) +
)+ ,
{ 	
return   
View   
(   
_webrepo    
.    !

GetReviews  ! +
(  + ,
)  , -
.  - .
First  . 3
(  3 4
x  4 5
=>  6 8
x  9 :
.  : ;
ID  ; =
==  > @
id  A C
)  C D
)  D E
;  E F
}!! 	
[## 	
HttpGet##	 
]## 
public$$ 
IActionResult$$ 
Create$$ #
($$# $
)$$$ %
{%% 	
return'' 
View'' 
('' 
)'' 
;'' 
}(( 	
[)) 	
HttpPost))	 
])) 
public** 
IActionResult** 
Create** #
(**# $
Reviews**$ +
reviews**, 3
)**3 4
{++ 	
_webrepo,, 
.,, 

AddReviews,, 
(,,  
reviews,,  '
),,' (
;,,( )
return-- 
View-- 
(-- 
$str-- !
,--! "
reviews--# *
)--* +
;--+ ,
}.. 	
}// 
}00  
XC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Models\CreatedReview.cs
	namespace 	
P1_ASP_WebApp
 
. 
Models 
{ 
public 

class 
CreatedReview 
{		 
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
List 
< 
string 
> 
Tags  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¨
YC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Models\ErrorViewModel.cs
	namespace 	
P1_ASP_WebApp
 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
bool		 
ShowRequestId		 !
=>		" $
!		% &
string		& ,
.		, -
IsNullOrEmpty		- :
(		: ;
	RequestId		; D
)		D E
;		E F
}

 
} ¦

KC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Program.cs
	namespace

 	
P1_ASP_WebApp


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ê
KC:\Users\cm121\source\repos\P1-Christopher-Mesidor\P1_ASP_WebApp\Startup.cs
	namespace 	
P1_ASP_WebApp
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
	AddScoped 
< 
IRepo $
,$ %
Repo& *
>* +
(+ ,
), -
;- .
services 
. 
AddDbContext !
<! "
CMDBP0Context" /
>/ 0
(0 1
options1 8
=>9 ;
{ 
options   
.   
UseSqlServer   #
(  # $
Configuration  $ 1
.  1 2
GetConnectionString  2 E
(  E F
$str  F N
)  N O
)  O P
;  P Q
}!! 
)!! 
;!! 
services## 
.## 

AddSession## 
(##  
option##  &
=>##' )
{$$ 
option%% 
.%% 
IdleTimeout%% "
=%%# $
TimeSpan%%% -
.%%- .
FromMinutes%%. 9
(%%9 :
$num%%: ;
)%%; <
;%%< =
}&& 
)&& 
;&& 
services'' 
.'' #
AddControllersWithViews'' ,
('', -
)''- .
;''. /
}(( 	
public++ 
void++ 
	Configure++ 
(++ 
IApplicationBuilder++ 1
app++2 5
,++5 6
IWebHostEnvironment++7 J
env++K N
)++N O
{,, 	
if-- 
(-- 
env-- 
.-- 
IsDevelopment-- !
(--! "
)--" #
)--# $
{.. 
app// 
.// %
UseDeveloperExceptionPage// -
(//- .
)//. /
;/// 0
}00 
else11 
{22 
app33 
.33 
UseExceptionHandler33 '
(33' (
$str33( 5
)335 6
;336 7
app55 
.55 
UseHsts55 
(55 
)55 
;55 
}66 
app77 
.77 
UseHttpsRedirection77 #
(77# $
)77$ %
;77% &
app88 
.88 
UseStaticFiles88 
(88 
)88  
;88  !
app:: 
.:: 

UseRouting:: 
(:: 
):: 
;:: 
app<< 
.<< 
UseAuthorization<<  
(<<  !
)<<! "
;<<" #
app>> 
.>> 
UseEndpoints>> 
(>> 
	endpoints>> &
=>>>' )
{?? 
	endpoints@@ 
.@@ 
MapControllerRoute@@ ,
(@@, -
nameAA 
:AA 
$strAA #
,AA# $
patternBB 
:BB 
$strBB E
)BBE F
;BBF G
}CC 
)CC 
;CC 
}DD 	
}EE 
}FF 